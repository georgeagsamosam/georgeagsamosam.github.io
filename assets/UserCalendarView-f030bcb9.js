import{d as A,r as _,c as v,u as T,g as D,a as N,s as m,b as E,e as j,o as B,f as w,h as C,i as e,j as F,k as n,t as u,F as J,l as L,_ as W,n as q,w as I,v as O,m as R}from"./index-b022ffe1.js";const z=A("user",()=>{const d=_(0),h=v(()=>T[d.value]),p=v(()=>{const a=D(new Date,N[d.value]);return m.find(l=>l.id===a).displayName});function y(a){d.value=a}return{activeUser:d,activeUserName:h,changeActiveUser:y,getWorkStatusToday:p}});const G={class:"text-white calendar-container"},H={class:"flex justify-center mb-3 leading-none text-center align-middle"},K={class:""},P={class:"text-xl font-black text-left"},Q=e("br",null,null,-1),X=e("div",{class:"m-2 text-left text-gray-300"},null,-1),Y={class:"px-3 my-1 text-right"},Z={class:"flex justify-between"},ee=["for"],te=["value"],se={class:"ml-auto"},ne={__name:"UserCalendarView",setup(d){const h=z(),p=E(),y=j(),a=_(["0"]),f=_(null),l=_(0),M=v(()=>{const t=new Date,s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],i=t.getDate();return`${s} ${i}`}),U=t=>{p.push({name:"home",query:{date:t.id}})},S=v(()=>{if(!f.value)return[];const t=[],o=[],s=[],i=[],g=[];return f.value.$data.pages.forEach(b=>{for(let k=1;k<=b.monthComps.days;k++){const r=new Date(b.year,b.month-1,k),c=D(r,N[l.value]);a.value.includes(c)&&(c==="0"?t.push(r):c==="4"?s.push(r):c==="13"?i.push(r):c==="39"?g.push(r):c==="13*"&&o.push(r))}}),[{highlight:{color:"red",fillMode:"solid"},dates:t},{highlight:{color:"green",fillMode:"solid"},dates:s},{highlight:{color:"orange",fillMode:"solid"},dates:i},{highlight:{color:"indigo",fillMode:"solid"},dates:g},{highlight:{color:"gray",fillMode:"solid"},dates:o}]}),x=v({get(){for(let t=0;t<m.length;t++)if(!a.value.includes(m[t].id))return!1;return!0},set(t){a.value=t?m.map(o=>o.id):[]}}),V=()=>{},$=()=>{f.value.move(new Date)};return B(()=>{l.value=y.query.id,l.value&&h.changeActiveUser(l.value)}),(t,o)=>(w(),C("main",null,[e("div",G,[e("div",null,[e("button",{onClick:$,class:"mt-2 text-white underline rounded shadow"},"Today")]),F(n(W),{class:"calendar",attributes:n(S),onDayclick:U,onTransitionEnd:V,"is-dark":"",ref_key:"calendar",ref:f},null,8,["attributes"]),e("div",H,[e("div",K,[e("span",P,u(n(h).activeUserName),1),Q,e("span",null,u(n(M))+": "+u(n(h).getWorkStatusToday),1)])]),X,e("div",Y,[e("span",{onClick:o[0]||(o[0]=s=>x.value=!n(x)),class:"text-xs text-white underline cursor-pointer"},u(n(x)?"Unselect":"Select")+" all",1)]),(w(!0),C(J,null,L(n(m),(s,i)=>(w(),C("label",{key:"s-"+i,class:q(["inline checkbox",[a.value.includes(s.id)?`checkbox-active ${s.tailwindColor}`:"checkbox-disable"]])},[e("div",Z,[e("label",{for:s.displayName.toLowerCase()},[I(e("input",{class:"mr-1",type:"checkbox",id:"s.displayName.toLowerCase()",value:s.id,"onUpdate:modelValue":o[1]||(o[1]=g=>a.value=g)},null,8,te),[[O,a.value]]),R(u(s.displayName),1)],8,ee),e("label",se,u(s.time),1)])],2))),128))])]))}};export{ne as default};
