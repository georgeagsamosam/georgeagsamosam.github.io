import{d as A,r as p,c as v,u as T,g as D,a as N,s as m,b as E,e as L,o as j,f as w,h as C,i as s,j as q,k as n,t as d,F as B,l as F,_ as J,n as W,w as I,v as O,m as R}from"./index-28d0f2db.js";const z=A("user",()=>{const h=p(0),f=v(()=>T[h.value]),y=v(()=>{const a=D(new Date,N[h.value]);return m.find(i=>i.id===a).displayName});function g(a){h.value=a}return{activeUser:h,activeUserName:f,changeActiveUser:g,getWorkStatusToday:y}});const G={class:"text-white calendar-container"},H={class:"flex justify-center mb-3 leading-none text-center align-middle"},K={class:""},P={class:"my-1 text-xl font-black"},Q=s("br",null,null,-1),X=s("div",{class:"m-2 text-left text-gray-300"},null,-1),Y={class:"px-3 my-1 text-right"},Z=["for"],ee={class:"flex justify-between"},te=["id","value"],se=["for"],ne={__name:"UserCalendarView",setup(h){const f=z(),y=E(),g=L(),a=p(["0"]),l=p(null),i=p(0),M=v(()=>{const e=new Date,t=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],r=e.getDate();return`${t} ${r}`}),U=e=>{y.push({name:"home",query:{date:e.id}})},S=v(()=>{if(!l.value)return[];const e=[],o=[],t=[],r=[],_=[];return l.value.$data.pages.forEach(b=>{for(let k=1;k<=b.monthComps.days;k++){const c=new Date(b.year,b.month-1,k),u=D(c,N[i.value]);a.value.includes(u)&&(u==="0"?e.push(c):u==="4"?t.push(c):u==="13"?r.push(c):u==="39"?_.push(c):u==="13*"&&o.push(c))}}),[{highlight:{color:"red",fillMode:"solid"},dates:e},{highlight:{color:"green",fillMode:"solid"},dates:t},{highlight:{color:"orange",fillMode:"solid"},dates:r},{highlight:{color:"indigo",fillMode:"solid"},dates:_},{highlight:{color:"gray",fillMode:"solid"},dates:o}]}),x=v({get(){for(let e=0;e<m.length;e++)if(!a.value.includes(m[e].id))return!1;return!0},set(e){a.value=e?m.map(o=>o.id):[]}}),V=()=>{},$=()=>{l.value.move(new Date)};return j(()=>{i.value=g.query.id;const e=g.query.date;console.log(e),e&&l.value.move(new Date(e)),i.value&&f.changeActiveUser(i.value)}),(e,o)=>(w(),C("main",null,[s("div",G,[s("div",null,[s("button",{onClick:$,class:"mt-2 text-white underline rounded shadow"},"Today")]),q(n(J),{class:"calendar",attributes:n(S),onDayclick:U,onTransitionEnd:V,"is-dark":"",ref_key:"calendar",ref:l},null,8,["attributes"]),s("div",H,[s("div",K,[s("span",P,d(n(f).activeUserName),1),Q,s("span",null,d(n(M))+": "+d(n(f).getWorkStatusToday),1)])]),X,s("div",Y,[s("span",{onClick:o[0]||(o[0]=t=>x.value=!n(x)),class:"text-xs text-white underline cursor-pointer"},d(n(x)?"Unselect":"Select")+" all",1)]),(w(!0),C(B,null,F(n(m),(t,r)=>(w(),C("label",{for:t.displayName.toLowerCase(),key:"s-"+r,class:W(["inline checkbox",[a.value.includes(t.id)?`checkbox-active ${t.tailwindColor}`:"checkbox-disable"]])},[s("div",ee,[s("span",null,[I(s("input",{class:"mr-1",type:"checkbox",id:t.displayName.toLowerCase(),value:t.id,"onUpdate:modelValue":o[1]||(o[1]=_=>a.value=_)},null,8,te),[[O,a.value]]),R(d(t.displayName),1)]),s("span",{for:t.displayName.toLowerCase(),class:"ml-auto"},d(t.id!=="0"?t.time:null),9,se)])],10,Z))),128))])]))}};export{ne as default};
